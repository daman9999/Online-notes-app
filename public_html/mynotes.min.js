$(function(){function a(){$(".noteheader").click(function(){t||(e=$(this).attr("id"),$("textarea").val($(this).find(".text").text()),r(["#notepad","#AllNotes"],["#notes","#addNote","#edit","#Done"]),$("textarea").focus())})}function n(){$(".delete").click(function(){var e=$(this);$.ajax({url:"deletenote.php",type:"POST",data:{id:e.next().attr("id")},success:function(t){"error"==t?($("#alertContent").text("There was an issue delete the note from the database!"),$("#alert").fadeIn()):e.parent().remove()},error:function(){$("#alertContent").text("There was an error with the Ajax Call. Please try again later."),$("#alert").fadeIn()}})})}function r(e,t){for(i=0;i<e.length;i++)$(e[i]).show();for(i=0;i<t.length;i++)$(t[i]).hide()}var e=0,t=!1;$.ajax({url:"loadnotes.php",success:function(e){$("#notes").html(e),a(),n()},error:function(){$("#alertContent").text("There was an error with the Ajax Call. Please try again later."),$("#alert").fadeIn()}}),$("#addNote").click(function(){$.ajax({url:"createnote.php",success:function(t){"error"==t?($("#alertContent").text("There was an issue inserting the new note in the database!"),$("#alert").fadeIn()):(e=t,console.log(t),$("textarea").val(""),r(["#notepad","#AllNotes"],["#notes","#addNote","#edit","#Done"]),$("textarea").focus())},error:function(){$("#alertContent").text("There was an error with the Ajax Call. Please try again later."),$("#alert").fadeIn()}})}),$("textarea").keyup(function(){$.ajax({url:"updatenote.php",type:"POST",data:{note:$(this).val(),id:e},success:function(e){"error"==e&&($("#alertContent").text("There was an issue updating the note in the database!"),$("#alert").fadeIn())},error:function(){$("#alertContent").text("There was an error with the Ajax Call. Please try again later."),$("#alert").fadeIn()}})}),$("#AllNotes").click(function(){$.ajax({url:"loadnotes.php",success:function(e){$("#notes").html(e),r(["#addNote","#edit","#notes"],["#AllNotes","#notepad"]),a(),n()},error:function(){$("#alertContent").text("There was an error with the Ajax Call. Please try again later."),$("#alert").fadeIn()}})}),$("#Done").click(function(){t=!1,$(".noteheader").removeClass("col-xs-7 col-sm-9"),r(["#edit"],[this,".delete"])}),$("#edit").click(function(){t=!0,$(".noteheader").addClass("col-xs-7 col-sm-9 ml-auto"),r(["#Done",".delete"],[this])})});
